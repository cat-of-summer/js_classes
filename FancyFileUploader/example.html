<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="FancyFileUploader.js"></script>
</head>
<body>

    <!-- Обёртка блока -->
    <div class="upload-wrapper">
        <!-- Зона перетаскивания -->
        <div class="drop-zone" style="border: 2px dashed #888; padding: 20px; text-align: center;">
            Перетащи файлы сюда или нажми «Добавить»
        </div>

        <!-- Кнопка добавления -->
        <button type="button" class="add-file-btn">Добавить файл</button>

        <!-- Сюда будут добавляться элементы -->
        <div class="files-list"></div>

        <!-- Шаблон файла (будет удалён после инициализации) -->
        <div class="file-template" style="border: 1px solid #ccc; margin-top: 10px; padding: 10px;">
            <div style="display: flex; align-items: center;">
                <img preview style="width: 50px; height: 50px; object-fit: cover; margin-right: 10px;" />
                <div>
                    <div><strong filename></strong></div>
                    <div style="font-size: 0.9em; color: gray;" fileweight></div>
                </div>
                <button type="button" delete_button style="margin-left: auto;">Удалить</button>
            </div>
        </div>
    </div>
    
<script>
  // Дождись полной загрузки DOM
  document.addEventListener('DOMContentLoaded', () => {
    new FancyFileUploader({
      target_selector: '.upload-wrapper',
      draggble_zone_selector: '.drop-zone',
      add_button_selector: '.add-file-btn',
      files_list_selector: '.files-list',
      file_template: '.file-template',
      max_files: 5,
      max_file_size: 5 * 1024 * 1024,       // 5 МБ на файл
      max_total_size: 20 * 1024 * 1024,     // 20 МБ на всё
      human_readable_size: true,
      input_name: 'UF_PRODUCT_FILES[]'
    });
  });
</script>


</body>
</html>