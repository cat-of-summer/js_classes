class st_accordion{static#t={settings:{namespace:"st_",caption_attribute:"caption",content_attribute:"content",target_attribute:"target",group_attribute:"group"},options:{accordion_selector:void 0,hiding_type:"display",transition:void 0,trigger:"click",attribute:[]}};static#e={opacity:"0",visibility:"hidden",display:"none"};static#i=["click","hover"];static#n(...t){function e(t,e){function i(t,e,n){if("object"==typeof e[t])for(let r in e[t])n[t]||(n[t]={}),i(r,e[t],n[t]);else n[t]=e[t]}for(let n in t)i(n,t,e)}let i={};for(let n of t)e(n,i);return i}constructor(t){(t=st_accordion.#n(st_accordion.#t,t)).settings.caption_attribute=t.settings.namespace+t.settings.caption_attribute,t.settings.content_attribute=t.settings.namespace+t.settings.content_attribute,t.settings.target_attribute=t.settings.namespace+t.settings.target_attribute,t.settings.group_attribute=t.settings.namespace+t.settings.group_attribute;const e=t;if(!e.options.hiding_type in st_accordion.#e)return;if(!e.options.trigger in st_accordion.#i)return;if(!e.options.accordion_selector)return;let i=function(t,e=!1){return{show:function(e){e.style.removeProperty(t)},hide:function(i){i.style.setProperty(t,e?"unset":st_accordion.#e[t])}}}(e.options.hiding_type),n=function(t){function e(t,e){return!!e&&(e[1]?t.getAttribute(e[0])==e[1]:t.hasAttribute(e[0]))}function i(t,e){e&&(e[1]?t.setAttribute(e[0],e[1]):t.setAttribute(e[0],""))}function n(t,e){e&&(e[1]?e[2]?t.setAttribute(e[0],e[2]):t.setAttribute(e[0],""):t.removeAttribute(e[0]))}let r="object"==typeof(o=t)?[o[0]??"st_active",o[1]??"",o[2]??""]:[o??"st_active","",""];var o;return{set:function(t){i(t,r)},remove:function(t){n(t,r)},toggle:function(t){r&&(r[1]?e(t,r)?n(t,r):i(t,r):t.toggleAttribute(r[0]))},isActive:function(t){return e(t,r)}}}(e.options.attribute);for(let t of document.querySelectorAll(e.options.accordion_selector)){for(let n of t.querySelectorAll("["+e.settings.content_attribute+"]"))i.hide(n),e.options.transition&&n.style.setProperty("transition",e.options.transition);for(let r of t.querySelectorAll("["+e.settings.caption_attribute+"]")){n.remove(r);let o=function(r){if(r.hasAttribute(e.settings.group_attribute))for(let o of t.querySelectorAll("["+e.settings.caption_attribute+"]["+e.settings.group_attribute+"="+r.getAttribute(e.settings.group_attribute)+"]"))if(o!=r&&(n.remove(o),o.hasAttribute(e.settings.target_attribute)))for(let n of t.querySelectorAll(o.getAttribute(e.settings.target_attribute)+"["+e.settings.content_attribute+"]"))i.hide(n);let o=function(t){return n.remove(t),function(t){i.hide(t)}},s=function(t){return n.set(t),function(t){i.show(t)}},c=n.isActive(r)?o(r):s(r);if(r.hasAttribute(e.settings.target_attribute))for(let i of t.querySelectorAll(r.getAttribute(e.settings.target_attribute)+"["+e.settings.content_attribute+"]"))c(i)};e.options.trigger,r.addEventListener("click",function(){o(this)})}}}}