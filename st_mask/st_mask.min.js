class st_mask{constructor(l){let t=[],e=[];l.mask.match(/\{.*?\}|./g).forEach((l=>{l.startsWith("{")&&l.endsWith("}")?(e.push(l.slice(1,-1)),t.push(null)):t.push(l)}));let n=function(e){let n=0;return t.map((t=>n>=e.length&&!l.placeholder?"":t??e[n++]??l.filler??"*")).join("")};document.querySelectorAll(l.selector).forEach((t=>{!0===l.placeholder&&(t.value=n([])),!0===l.onload&&l.not_full&&l.not_full(t);let a=[];t.addEventListener("paste",(l=>{l.clipboardData.getData("Text").split("").forEach((l=>{a.length<e.length&&new RegExp(e[a.length]).test(l)&&a.push(l)})),t.value=n(a)})),t.addEventListener("input",(u=>{null===u.data?a.pop():a.length<e.length&&new RegExp(e[a.length]).test(u.data)&&a.push(u.data),a.length||l.placeholder?t.value=n(a):t.value="",a.length==e.length?l.full&&l.full(t):l.not_full&&l.not_full(t)})),t.addEventListener("blur",(()=>{a.length==e.length?l.full&&l.full(t):l.not_full&&l.not_full(t)}))}))}}