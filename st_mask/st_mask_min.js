class st_mask{constructor(l){let t=[],e=[];l.mask.match(/\{.*?\}|./g).forEach((l=>{l.startsWith("{")&&l.endsWith("}")?(e.push(l.slice(1,-1)),t.push(null)):t.push(l)}));let n=function(e){let n=0;return t.map((t=>t??e[n++]??l.filler??"*")).join("")};document.querySelectorAll(l.selector).forEach((t=>{!0===l.placeholder&&(t.value=n([])),!0===l.onload&&l.not_full&&l.not_full(t);let u=[];t.addEventListener("input",(a=>{null===a.data?u.pop():u.length<e.length&&new RegExp(e[u.length]).test(a.data)&&u.push(a.data),u.length||l.placeholder?t.value=n(u):t.value="",u.length==e.length?l.full&&l.full(t):l.not_full&&l.not_full(t)})),t.addEventListener("blur",(()=>{u.length==e.length?l.full&&l.full(t):l.not_full&&l.not_full(t)}))}))}}