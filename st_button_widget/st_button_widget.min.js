class st_button_widget{static DEFAULT_ICONS={arrow:'<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><style type="text/css">.st0{fill:#77B3D4;}.st1{opacity:0.2;}.st2{fill:#231F20;}.st3{fill:#FFFFFF;}</style><g id="Layer_1"><g><circle class="st0" cx="32" cy="32" r="32"/></g><g class="st1"><path class="st2" d="M49.5,33.9L35.3,15.7c-1.8-2.3-4.7-2.3-6.5,0L14.5,33.9c-1.8,2.3-1,4.1,1.7,4.1H24v12c0,2.2,1.8,4,4,4h8c2.2,0,4-1.8,4-4V38h7.8C50.6,38,51.3,36.1,49.5,33.9z"/></g><g><path class="st3" d="M40,48c0,2.2-1.8,4-4,4h-8c-2.2,0-4-1.8-4-4V24c0-2.2,1.8-4,4-4h8c2.2,0,4,1.8,4,4V48z"/></g><g><path class="st3" d="M16.2,36c-2.7,0-3.5-1.9-1.7-4.1l14.3-18.1c1.8-2.3,4.7-2.3,6.5,0l14.3,18.1c1.8,2.3,1,4.1-1.7,4.1H16.2z"/></g></g><g id="Layer_2"></g></svg>'};static#t={settings:{position:"bottom-right"},condition:{name:"scroll",options:{hiding_type:"opacity",transition:"0.3s",attribute:[],margin_top:Math.min(window.innerHeight,document.documentElement.clientHeight),margin_left:void 0,margin_right:void 0,margin_bottom:void 0}},action:{name:"scroll",options:{selector:void 0,hiding_type:"opacity",setAttribute:void 0,removeAttribute:void 0,toggleAttribute:void 0,top:0,left:void 0,behavior:"smooth",hook:function(){}}},widget_container:{id:void 0,class:void 0,style:{}},widget:{id:void 0,class:void 0,style:{}},button_container:{id:void 0,class:void 0,style:{}},button:{src:st_button_widget.DEFAULT_ICONS.arrow}};static#e={widget_container:{position:"fixed",width:"60px",height:"60px",margin:"30px"},widget:{position:"absolute"},button_container:{display:"flex","justify-content":"center","align-items":"center",overflow:"hidden",width:"60px",height:"60px","border-radius":"50%",cursor:"pointer"},button:{width:"100%",height:"100%","object-fit":"cover"}};static#i(...t){function e(t,e){function i(t,e,n){if("object"==typeof e[t])for(let o in e[t])n[t]||(n[t]={}),i(o,e[t],n[t]);else n[t]=e[t]}for(let n in t)i(n,t,e)}let i={};for(let n of t)e(n,i);return i}static#n(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="";for(let n=0;n<t;n++)i+=e.charAt(Math.floor(62*Math.random()));return i}static#o={opacity:"0",visibility:"hidden",display:"none"};#s="st_"+st_button_widget.#n(16);#c=this.#s+"_wc";#d=this.#s+"_w";#r=this.#s+"_bc";#l=this.#s+"_b";#a=document.createElement("style");#_=document.createElement("div");#u=document.createElement("div");#h=document.createElement("div");#g(t,e,i){new RegExp(t+"{.*?"+e+":.*?;.*?}").test(this.#a.innerHTML)?this.#a.innerHTML=this.#a.innerHTML.replace(new RegExp("("+t+"{.*?"+e+":).*?(;.*?})"),"$1"+i+"$2"):new RegExp(t+"{.*?}").test(this.#a.innerHTML)?this.#a.innerHTML=this.#a.innerHTML.replace(new RegExp("("+t+"{.*?)(})"),"$1"+e+":"+i+";$2"):this.#a.innerHTML+=t+"{"+e+":"+i+";}"}#p(t,e){for(let i in e)this.#g(t,i,e[i])}constructor(t){function e(t,e,i=!1){return{show:function(){t.style.removeProperty(e)},hide:function(){t.style.setProperty(e,i?"unset":st_button_widget.#o[e])}}}function i(t){switch(t){case"top-left":return{top:"0",left:"0"};case"top-right":return{top:"0",right:"0"};case"bottom-left":return{bottom:"0",left:"0"};default:return{bottom:"0",right:"0"}}}function n(t){return t?"object"==typeof t?[t[0]??"st_active",t[1]??"",t[2]??""]:[t??"st_active","",""]:null}const o=st_button_widget.#i(st_button_widget.#t,t);if(this.#p("."+this.#c,st_button_widget.#e.widget_container),this.#p("."+this.#d,st_button_widget.#e.widget),this.#p("."+this.#r,st_button_widget.#e.button_container),this.#p("."+this.#l,st_button_widget.#e.button),this.#p("."+this.#c,i(o.settings.position)),this.#p("."+this.#d,i(o.settings.position)),this.#_.classList.add(this.#c),this.#p("."+this.#c,o.widget_container.style),o.widget_container.class&&this.#_.classList.add(o.widget_container.class),o.widget_container.id&&(this.#_.id=o.widget_container.id),this.#u.classList.add(this.#d),this.#p("."+this.#d,o.widget.style),o.widget.class&&this.#u.classList.add(o.widget.class),o.widget.id&&(this.#u.id=o.widget.id),this.#h.classList.add(this.#r),this.#p("."+this.#r,o.button_container.style),o.button_container.class&&this.#h.classList.add(o.button_container.class),o.button_container.id&&(this.#h.id=o.button_container.id),o.condition){function s(t,e){let i=n(e);return{set:function(){i&&(i[1]?t.setAttribute(i[0],i[1]):t.setAttribute(i[0],""))},remove:function(){i&&(i[1]?i[2]?t.setAttribute(i[0],i[2]):t.setAttribute(i[0],""):t.removeAttribute(i[0]))}}}if(!o.condition.options.hiding_type in st_button_widget.#o)return;let c=e(this.#u,o.condition.options.hiding_type),d=s(this.#u,o.condition.options.attribute);if(c.hide(),d.remove(),"hover"===o.condition.name)this.#_.addEventListener("mouseenter",(function(){c.show(),d.set()})),this.#_.addEventListener("mouseleave",(function(){c.hide(),d.remove()}));else{let r=Math.min(window.innerHeight,document.documentElement.clientHeight),l=Math.min(window.innerWidth,document.documentElement.clientWidth),a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),_=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth),u=o.condition.options.margin_top,h=o.condition.options.margin_bottom,g=o.condition.options.margin_right,p=o.condition.options.margin_left;window.addEventListener("scroll",(function(){let t=window.pageYOffset||window.scrollY||document.documentElement.scrollTop,e=t+r,i=window.pageXOffset||window.scrollX||document.documentElement.scrollLeft;t>u||e<a-h||i+l<_-g||i>p?(c.show(),d.set()):(c.hide(),d.remove())}))}o.condition.options.transition&&this.#u.style.setProperty("transition",o.condition.options.transition)}if(o.action)switch(o.action.name){case"show_popup":if(!o.action.options.selector)return;if(!o.action.options.hiding_type in st_button_widget.#o)return;this.#h.addEventListener("click",(function(){for(let t of document.querySelectorAll(o.action.options.selector)){let i=e(t,o.action.options.hiding_type,!0);if(t.style[st_button_widget.#o[o.action.options.hiding_type]]?i.show():i.hide(),o.action.options.setAttribute){let e=n(o.action.options.setAttribute);t.setAttribute(e[0],e[1])}o.action.options.removeAttribute&&t.removeAttribute(o.action.options.removeAttribute),o.action.options.toggleAttribute&&t.toggleAttribute(o.action.options.toggleAttribute)}}));break;case"function":this.#h.addEventListener("click",o.action.options.hook);break;default:this.#h.addEventListener("click",(function(){window.scrollTo({top:o.action.options.top,left:o.action.options.left,behavior:o.action.options.behavior})}))}new RegExp("^<svg.*?</svg>$").test(o.button.src)?this.#h.innerHTML=o.button.src:this.#h.innerHTML="<img src="+o.button.src+' alt="icon">',this.#h.childNodes[0].classList.add(this.#l),this.#a.setAttribute("widget",this.#s),document.head.appendChild(this.#a),this.#u.appendChild(this.#h),this.#_.appendChild(this.#u),document.querySelector("body").appendChild(this.#_)}}