class st_cookie_consent{#e="cookie_consent";#t=31536e3;#i=5e3;#n={position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:"0px",zIndex:1e3};#o=null;#s=null;constructor(e){this.#e??=e.cookie_name,this.#t??=+e.expiration,this.#i??=+e.check_interval,this.#o=this.constructor.name+"_"+this.#r(),this.#n={...this.#n,...e.styles};let t=e.selector?document.querySelector(e.selector):null;if(t)this.#s=t.outerHTML,t.remove();else{if(!e.html)throw new Error("Не передан ни селектор элемента, ни HTML");this.#s=e.html}this.#c()||this.#a(),this.#l()}#c(){return document.cookie.split("; ").some((e=>e.startsWith(`${this.#e}=`)))}#r(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let i=0;i<16;i++)t+=e.charAt(Math.floor(62*Math.random()));return t}#a(){if(document.getElementById(this.#o))return;let e=document.createElement("div");e.id=this.#o,e.innerHTML=this.#s,Object.assign(e.style,this.#n),document.body.appendChild(e),e.querySelectorAll("[action=accept_consent]").forEach((t=>{t.addEventListener("click",(()=>{this.#h(!0),e.remove()}))})),e.querySelectorAll("[action=reject_consent]").forEach((t=>{t.addEventListener("click",(()=>{this.#h(!1),e.remove()}))})),e.querySelectorAll("[action=necessary_consent]").forEach((t=>{t.addEventListener("click",(()=>{this.#h("only_necessary"),e.remove()}))}))}#h(e){document.cookie=`${this.#e}=${e}; path=/; max-age=${this.#t}`}#l(){setInterval((()=>{this.#c()||this.#a()}),this.#i)}}class st_cookie{static set(e,t,i={}){i={path:"/",expires:3600,...i};let n=encodeURIComponent(e)+"="+encodeURIComponent(t);if("number"==typeof i.expires){let e=new Date;e.setTime(e.getTime()+1e3*i.expires),i.expires=e}n+="; expires="+i.expires.toUTCString(),n+="; path="+i.path,i.domain&&(n+="; domain="+i.domain),i.secure&&(n+="; secure"),i.sameSite&&(n+="; samesite="+i.sameSite),document.cookie=n}static get(e){let t=document.cookie.split(";");for(let i=0;i<t.length;i++){let n=t[i].trim();if(n.startsWith(e+"="))return decodeURIComponent(n.substring(e.length+1))}return null}static delete(e,t="/"){document.cookie=`${e}=; path=${t}; expires=${new Date(0).toUTCString()}`}static callback(e,t,i={}){i={interval:null,delay:0,...i};let n=setInterval((()=>{st_cookie.get(e)||(setTimeout((()=>{t()}),1e3*i.delay),st_cookie.set(e,!0,i))}),1e3*i.interval,e,t,i);i.interval||setTimeout(clearInterval,1,n)}}