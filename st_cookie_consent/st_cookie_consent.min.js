class st_cookie_consent{#e="cookie_consent";#t=31536e3;#n=5e3;#i={position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:"0px",zIndex:1e3};#o=null;#s=null;constructor(e){this.#e??=e.cookie_name,this.#t??=+e.expiration,this.#n??=+e.check_interval,this.#o=this.constructor.name+"_"+this.#c(),this.#i={...this.#i,...e.styles};let t=e.selector?document.querySelector(e.selector):null;if(t)this.#s=t.outerHTML,t.remove();else{if(!e.html)throw new Error("Не передан ни селектор элемента, ни HTML");this.#s=e.html}this.#r()||this.#a(),this.#l()}#r(){return document.cookie.split("; ").some((e=>e.startsWith(`${this.#e}=`)))}#c(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let n=0;n<16;n++)t+=e.charAt(Math.floor(62*Math.random()));return t}#a(){if(document.getElementById(this.#o))return;let e=document.createElement("div");e.id=this.#o,e.innerHTML=this.#s,Object.assign(e.style,this.#i),document.body.appendChild(e),e.querySelectorAll("[action=accept_consent]").forEach((t=>{t.addEventListener("click",(()=>{this.#h(!0),e.remove()}))})),e.querySelectorAll("[action=reject_consent]").forEach((t=>{t.addEventListener("click",(()=>{this.#h(!1),e.remove()}))})),e.querySelectorAll("[action=necessary_consent]").forEach((t=>{t.addEventListener("click",(()=>{this.#h("only_necessary"),e.remove()}))}))}#h(e){document.cookie=`${this.#e}=${e}; path=/; max-age=${this.#t}`}#l(){setInterval((()=>{this.#r()||this.#a()}),this.#n)}}