class st_cookie{static set(e,t,n={}){if(!((n={path:"/",expires:3600,...n}).expires instanceof Date)){let e=n.expires;n.expires=new Date("number"==typeof e?Date.now()+1e3*e:Date.parse(e)||Date.parse(e.replace(/-/g,"/")))}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; expires="+n.expires.toUTCString()+"; path="+n.path+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")+(n.sameSite?"; samesite="+n.sameSite:"")}static get(e){e=encodeURIComponent(e);let t=document.cookie.split(";");for(let n=0;n<t.length;n++){let o=t[n].trim();if(o.startsWith(e+"=")){let t=decodeURIComponent(o.substring(e.length+1));try{return JSON.parse(t)}catch{return t}}}return null}static delete(e,t={}){st_cookie.set(e,"",{expires:0,...t})}static callback(e,t,n={}){n={interval:0,delay:0,value:!0,...n};let o=setInterval(()=>{null===st_cookie.get(e)&&(st_cookie.set(e,n.value,n),setTimeout(()=>{t(e)},1e3*n.delay)),n.interval||clearInterval(o)},1e3*n.interval)}static consent(e){e={content:"<div><span>Этот сайт использует файлы cookies и сервисы сбора технических данных посетителей (данные об IP-адресе, местоположении и т.д.) для обеспечения работоспособности и улучшения качества обслуживания.</span><div><button action='accept'>Принять</button><button action='decline'>Отклонить</button></div></div>",container:"body",location:"bottom",zIndex:1e3,name:"cookie_consent",interval:5,...e};let t=document.createElement("container");if("body"==e.container&&Object.assign(t.style,{position:"absolute",overflow:"hidden",width:"max-content",height:"max-content",maxWidth:"100vw",maxHeight:"100vh",zIndex:e.zIndex,transition:"inherit",pointerEvents:"all",display:"none",...(()=>{let t=(e.location||"").toLowerCase().split(/\s+/),n={top:t.includes("top")?0:t.includes("bottom")?void 0:"50%",bottom:t.includes("bottom")?0:void 0,left:t.includes("left")?0:t.includes("right")?void 0:"50%",right:t.includes("right")?0:void 0},o="50%"===n.left?"translateX(-50%)":"",i="50%"===n.top?"translateY(-50%)":"";return(o||i)&&(n.transform=`${o} ${i}`.trim()),n})()}),document.querySelector(e.container).append(t),!(e.content instanceof Element)){let t=e.content;e.content=t.trim().startsWith("<")?(new DOMParser).parseFromString(t,"text/html").body.firstElementChild:document.querySelector(t)??(()=>{throw new Error("Селектор не найден")})()}t.append(e.content),st_cookie.callback(e.name,n=>{["accept","decline"].forEach(n=>{t.querySelectorAll(`[action=${n}]`).forEach(o=>{o.addEventListener("click",o=>{st_cookie.set(e.name,"accept"==n,e),t.style.display="none"})})}),t.style.display=""},{...e,value:null})}}